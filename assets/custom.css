/* =================== Global & Resets =================== */
*{ box-sizing: border-box; }
html,body{ margin:0; padding:0; overflow-x:hidden; }
/* 预留滚动条槽，防止出现/消失时宽度抖动 */
html{ scrollbar-gutter: stable both-edges; }

/* 主题色 & 布局变量 */
:root{
  --nyu:#57068C;
  --nyu-dark:#43056c;
  --panel:#f2f2f4;
  --border:#e5e7eb;

  --wrap: 1200px;      /* 版心最大宽度 */
  --gutter: 20px;      /* container 左右内边距 */
  --nav-h: 64px;       /* 顶部紫条高度 */
  --footer-h: 64px;    /* 底部紫条高度 */

  --sidebar: 280px;    /* 左侧信息卡宽度（调窄，避免压缩正文） */
  --gap: 32px;         /* 侧栏与正文间距 */
}

/* 彻底清掉任何可能画紫条的伪元素或旧饰条 */
body::before, body::after,
.navbar::before, .navbar::after{
  content:none !important;
  display:none !important;
}

/* 主题自带头像头部隐藏，避免占位/重复 */
.header{ display:none !important; }

/* 链接配色 */
a{ color:var(--nyu); }
a:hover{ color:#6c2ca2; }

/* 版心（右侧正文居中） */
.container, main, .page-content{
  max-width:var(--wrap);
  margin:0 auto;
  padding:0 var(--gutter);
}

/* 正文不允许任何背景干扰 */
.docs-section{ background:none !important; }

/* =================== Top Navbar（贴顶 & 横穿全屏） =================== */
.navbar{
  position:fixed !important;
  top:0; left:0; right:0;
  height:var(--nav-h);
  background:var(--nyu) !important;
  z-index:1000;
  border:none !important;
  box-shadow:0 2px 10px rgba(0,0,0,.06);
}
.navbar-spacer{ display:none !important; }

/* 导航内部居中排列 */
.navbar > .container{
  min-height:var(--nav-h);
  display:flex; align-items:center; justify-content:center;
  gap:28px; padding:0 16px;
}
.navbar-list{ list-style:none; display:flex; gap:28px; margin:0; padding:0; }
.navbar-item{ margin:0; }
.navbar-link{
  color:#fff !important; text-transform:uppercase; letter-spacing:.12rem;
  text-decoration:none; font-weight:600; padding:8px 6px; border-radius:6px; line-height:1;
}
.navbar-link:hover{ background:var(--nyu-dark); color:#fff !important; }

/* 给正文让出固定顶/底栏空间，避免遮挡 */
body{ padding-top:var(--nav-h); padding-bottom:var(--footer-h); }

/* =================== 左侧信息卡 + 右侧正文 =================== */
.content-with-sidebar{ margin-top:16px; }

/* 中屏：两栏 + 粘顶侧栏 */
@media (min-width:960px){
  .content-with-sidebar{
    display:flex; justify-content:center; gap:32px; align-items:flex-start;
  }
  .side-col{
    flex:0 0 var(--sidebar);
    position:sticky;
    top:calc(var(--nav-h) + 16px);
    align-self:flex-start;
    z-index:10;
  }
  .main-col{
    flex:1; max-width:860px; min-width:0; /* 给正文足够空间 */
  }
  .sidepanel{
    height:calc(100vh - var(--nav-h) - 32px);
    overflow:auto;
    background:var(--panel);
    border:1px solid var(--border);
    border-radius:12px;
    padding:16px;
    box-shadow:0 6px 18px rgba(0,0,0,.06);
  }
}

/* 宽屏：侧栏固定在视口（始终可见），正文右移 */
@media (min-width:1200px){
  .side-col{
    position: fixed !important;
    top: calc(var(--nav-h) + 16px);
    left: calc(50vw - (var(--wrap) / 2) + var(--gutter));
    width: var(--sidebar);
    z-index: 15;
  }
  .sidepanel{ position: static !important; } /* 固定交给 .side-col 处理 */
  .main-col{
    margin-left: calc(var(--sidebar) + var(--gap)) !important;
    max-width: 860px;
  }
}

/* 左栏头像与内容样式 */
.sidepanel .portrait{
  display:block; width:100%; height:220px; object-fit:cover;
  border-radius:10px; margin-bottom:12px;
}
.kicker{
  margin:20px 0 8px; font-size:12px; font-weight:700;
  letter-spacing:.12rem; text-transform:uppercase; color:#111827;
}
.sidepanel ul{ list-style:none; padding:0; margin:4px 0 10px; }
.sidepanel li{ margin:6px 0; }
.sidepanel a{ text-decoration:none; }
.sidepanel a:hover{ text-decoration:underline; }
.profile-name{ font-size:24px; font-weight:800; color:#111 !important; line-height:1.2; }

/* =================== 正文样式 =================== */
.docs-section{ padding:2rem 0; border-top:1px solid var(--border); }
.docs-section > h4, .section-header{
  font-size:2rem; font-weight:700; letter-spacing:.02rem;
  text-transform:none; margin:0 0 .8rem;
}
.main-col b, .main-col strong{ color:#111 !important; font-weight:700; }

/* =================== Bottom Footer（贴底 & 横穿全屏） =================== */
.footer{
  position:fixed !important;
  bottom:0; left:0; right:0;
  height:var(--footer-h);
  background:var(--nyu) !important;
  color:#fff !important;
  border-top:none !important;
  z-index:999;
  display:flex; align-items:center;  /* 垂直居中 */
}
.footer .container, .footer .row{
  width:100%;
  max-width:var(--wrap);
  margin:0 auto;
  height:100%;
  display:flex;
  align-items:center;               /* 关键：子元素垂直居中 */
  justify-content:space-between;
  padding:0 var(--gutter);
}
.footer a, .footer i{ color:#fff !important; text-decoration:none; }
.footer i:hover{ opacity:.85; }
.footer *{ line-height:1; }         /* 防止基线导致看起来“靠上” */

/* =================== 小屏优化 =================== */
@media (max-width:749px){
  .navbar > .container{ flex-wrap:wrap; gap:12px; }
  .navbar-list{ flex-wrap:wrap; justify-content:center; gap:12px 16px; }
  .sidepanel{ height:auto; }  /* 小屏单栏自然流动 */
}

/* ==== Patch: narrower sidebar + perfectly centered footer ==== */

/* 更窄的侧栏 */
:root{
  --sidebar: 240px;    /* 原来 280px -> 240px */
}

/* 中/宽屏下都应用更窄侧栏并保持布局 */
@media (min-width:960px){
  .side-col{ flex:0 0 var(--sidebar); }
  .main-col{ max-width:900px; } /* 给正文再多一点空间 */
  .sidepanel .portrait{ height:180px; } /* 头像降低高度以适配窄卡片 */
}

/* 宽屏固定侧栏时也使用新宽度 */
@media (min-width:1200px){
  .main-col{
    margin-left: calc(var(--sidebar) + var(--gap)) !important;
    max-width: 900px;
  }
}

/* 底部条高度加大、内容强制垂直居中 */
:root{
  --footer-h: 72px;   /* 原 64px -> 72px，视觉更舒展 */
}

/* 让出新的底部高度 */
body{ padding-bottom: var(--footer-h); }

.footer{
  height: var(--footer-h) !important;
  display: flex !important;
  align-items: center !important;   /* 垂直居中 */
  padding: 0 !important;            /* 外补白放到内层 */
}

/* 内层容器充满高度并居中分布 */
.footer .container,
.footer .row{
  height: 100% !important;
  display: flex !important;
  align-items: center !important;   /* 垂直居中 */
  justify-content: space-between !important;
  padding: 0 32px !important;       /* 适度左右留白 */
}

/* 直接子元素也用 flex 居中；且清掉上下 margin 防“顶到上沿”错觉 */
.footer .container > * ,
.footer .row > * {
  display: flex;
  align-items: center;
  margin-top: 0 !important;
  margin-bottom: 0 !important;
}

/* 文本基线统一，避免看起来偏上 */
.footer * { line-height: 1 !important; }

/* ================= FORCE NARROW SIDEBAR ================= */

/* 统一参数：想再窄，改 220→200 即可 */
:root { --sidebar: 220px; }

/* 960px 以上：无论栅格怎么写，都把左列锁成固定像素宽 */
@media (min-width:960px){
  /* 覆盖 skeleton 的 ".four.columns" 百分比宽度 */
  .content-with-sidebar .side-col{
    width: var(--sidebar) !important;
    max-width: var(--sidebar) !important;
    min-width: var(--sidebar) !important;
    flex: 0 0 var(--sidebar) !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
  }
  /* 卡片本体也锁死宽度，避免 100% 导致继续“吃满” */
  .content-with-sidebar .side-col .sidepanel{
    width: var(--sidebar) !important;
    max-width: var(--sidebar) !important;
  }
  /* 头像相应缩小一点，避免挤压 */
  .content-with-sidebar .side-col .sidepanel .portrait{
    height: 170px !important;
  }

  /* 右列占其余空间；加上与侧栏的间距 */
  .content-with-sidebar .main-col{
    flex: 1 1 auto !important;
    min-width: 0 !important;
    margin-left: 28px !important;   /* 侧栏与正文的间隔 */
  }

  /* “粘顶”：用列容器 sticky，卡片内部滚动，不会遮住右侧 */
  .content-with-sidebar .side-col{
    position: sticky !important;
    top: calc(var(--nav-h) + 16px) !important;
    align-self: flex-start !important;
    z-index: 10;
  }
  .content-with-sidebar .side-col .sidepanel{
    position: static !important;
    height: calc(100vh - var(--nav-h) - 32px) !important;
    overflow: auto !important;
  }
}

/* 1200px 以上也沿用同一套（防止旧规则把它设成 fixed 并放大） */
@media (min-width:1200px){
  .content-with-sidebar .side-col{
    position: sticky !important;   /* 不再 fixed，避免覆盖正文 */
    left: auto !important;
  }
}

/* ================= PERFECTLY CENTERED FOOTER ================= */

:root { --footer-h: 72px; }       /* 稍高一点更舒服 */
body { padding-bottom: var(--footer-h) !important; }

.footer{
  position: fixed !important;
  left: 0; right: 0; bottom: 0;
  height: var(--footer-h) !important;
  background: #57068C !important; color: #fff !important;
  border-top: none !important;
  display: flex !important;
  align-items: center !important;   /* 垂直居中 */
  z-index: 999;
  padding: 0 !important;
}

.footer .container, .footer .row{
  width: 100%; height: 100%;
  max-width: 1200px;               /* 和上面的 container 对齐 */
  margin: 0 auto;
  display: flex !important;
  align-items: center !important;   /* 垂直居中 */
  justify-content: space-between !important;
  padding: 0 32px !important;
}

/* 清掉内部上下外边距，避免“贴上沿”的错觉 */
.footer *{
  margin-top: 0 !important;
  margin-bottom: 0 !important;
  line-height: 1 !important;
}
