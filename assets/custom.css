/* =================== Global & Resets =================== */
:root{
  --nyu:#57068C;
  --nyu-dark:#43056c;
  --panel:#f2f2f4;
  --border:#e5e7eb;
}

/* 关闭主题自带头像 Header，避免重复/顶到正文 */
.header{ display:none !important; }

/* 不要任何背景图干扰正文 */
.docs-section{ background:none !important; }

/* 统一容器宽度（skeleton 会在 .container 上限制宽度） */
.container, main, .page-content{
  max-width:980px;
  margin:0 auto;
  padding:0 20px;
}

/* 链接默认使用 NYU 紫 */
a{ color:var(--nyu); }
a:hover{ color:#6c2ca2; }

/* =================== Top Navbar =================== */
body .navbar{
  display:block !important;
  position:sticky;
  top:0;
  z-index:1000;
  width:100%;
  height:64px;
  background:var(--nyu) !important;
  border:none !important;
  box-shadow:0 2px 10px rgba(0,0,0,.06);
}
body .navbar-spacer{ display:none !important; }
body .navbar > .container{
  width:100% !important;
  min-height:64px;
  display:flex; align-items:center; justify-content:center;
  padding:0 16px;
}
body .navbar-list{
  list-style:none; display:flex; gap:24px;
  margin:0; padding:0;
}
body .navbar-item{ float:none !important; margin:0; }
body .navbar-link{
  color:#fff !important; font-weight:600;
  text-decoration:none; padding:8px 6px; line-height:1;
  letter-spacing:.12rem; text-transform:uppercase; border-radius:6px;
}
body .navbar-link:hover, body .navbar-link:focus{
  background:var(--nyu-dark); color:#fff !important;
}

/* 顶栏与正文留出距离 */
.content-with-sidebar{ margin-top:24px; }

/* 小屏导航换行 */
@media (max-width:749px){
  body .navbar > .container{ flex-wrap:wrap; gap:6px 12px; }
  body .navbar-list{ flex-wrap:wrap; justify-content:center; gap:12px 16px; }
}

/* =================== Two-Column Layout =================== */
.content-with-sidebar{ display:block; }
@media (min-width:960px){
  .content-with-sidebar{ display:flex; gap:24px; align-items:flex-start; }
  .side-col{ width:320px; flex:0 0 320px; }
  .main-col{ flex:1; min-width:0; }
}

/* ==== Sticky sidebar that stays visible all the way down ==== */

/* 桌面端两栏布局 */
@media (min-width: 960px){
  .content-with-sidebar{
    display:flex;
    gap:24px;
    align-items:flex-start;    /* 不拉伸列高 */
    overflow:visible;          /* 确保粘滞可用 */
  }

  /* 把“粘滞”放在列容器 .side-col 上，而不是 .sidepanel */
  .side-col{
    position: sticky;
    top: 80px;                 /* 顶部预留给导航条 */
    align-self:flex-start;     /* 防止被拉伸为和右列一样高 */
    height: auto;              /* 不限定高度，由内层决定 */
    z-index: 10;               /* 以免被正文浮层覆盖 */
  }

  /* 内层面板不再 sticky：设置为视口高度并允许内部滚动 */
  .sidepanel{
    position: static;          /* 取消之前的 sticky */
    height: calc(100vh - 100px); /* 卡片自身高度≈视口高（减去顶部留白） */
    overflow: auto;            /* 内容过长时只在卡片内滚动 */
    background: var(--panel);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 16px;
    box-shadow: 0 6px 18px rgba(0,0,0,.06);
  }
}

/* 头像稳定尺寸（防止被当做背景铺满） */
.sidepanel .portrait{
  display:block;
  width:100%;
  height:220px;
  object-fit:cover;
  border-radius:8px;
  margin-bottom:12px;
}


/* 头像尺寸与裁切 */
.sidepanel .portrait{
  display:block;
  width:100%;
  height:220px;           /* 固定高度避免被当做背景铺满 */
  object-fit:cover;
  border-radius:8px;
  margin-bottom:12px;
}

/* 卡片内标题与列表 */
.kicker{
  margin-top:20px; margin-bottom:8px;
  font-size:12px; font-weight:700;
  letter-spacing:.12rem; text-transform:uppercase;
  color:#111827;
}
.sidepanel ul{ list-style:none; padding:0; margin:4px 0 10px; }
.sidepanel li{ margin:6px 0; }
.sidepanel a{ text-decoration:none; }
.sidepanel a:hover{ text-decoration:underline; }

/* 名字更大、黑色醒目 */
.profile-name{
  font-size:24px;
  font-weight:800;
  color:#111 !important;
  line-height:1.2;
}

/* =================== Main Content =================== */
/* 小节标题（让 News / Publications / CV 与 Meta 一致） */
.docs-section > h4, .section-header{
  font-size:2rem;
  font-weight:700;
  letter-spacing:.02rem;
  text-transform:none;
  margin:0 0 .8rem;
}

/* 正文粗体统一黑色 */
.main-col b, .main-col strong{
  color:#111 !important;
  font-weight:700;
}

/* 各小节分隔线与内边距 */
.docs-section{
  padding:2rem 0;
  border-top:1px solid var(--border);
}

/* =================== Publications（按钮保持原主题样式即可） =================== */
/* 如需 Tab 激活态紫色，可取消注释：
.tab-nav .button.active{ background:var(--nyu); color:#fff; border-color:var(--nyu); }
*/

/* =================== Full-width Footer =================== */
.footer{
  background:var(--nyu) !important;
  color:#fff !important;
  border-top:none !important;
  padding:18px 0 26px 0 !important;

  /* 关键：从 .container 溢出到全屏（与顶部宽度一致） */
  width:100vw;
  margin-left:calc(50% - 50vw);
  margin-right:calc(50% - 50vw);
}
.footer a, .footer i{ color:#fff !important; text-decoration:none; }
.footer i:hover{ opacity:.85; }
.footer .row, .footer .container{
  max-width:1280px; margin:0 auto; padding:0 40px;
  display:flex; justify-content:space-between; align-items:center;
}

/* ===== Make top & bottom purple bars full-bleed and visible at first paint ===== */

/* 0) 清除浏览器默认外边距，防止紫条两侧出现白边 */
html, body { margin:0; padding:0; }

/* 自定义高度，便于统一调整 */
:root { --nav-h: 64px; --footer-h: 64px; }

/* 1) 顶部导航：全屏突破 + 贴边（不受 .container 限制） */
.navbar{
  width:100vw;
  margin-left: calc(50% - 50vw);
  margin-right: calc(50% - 50vw);
  height:var(--nav-h);
  background: var(--nyu) !important;
  border:none !important;
  position: sticky;   /* 顶部随滚动吸顶 */
  top:0;
  z-index: 1000;
}

/* 2) 底部紫条：固定在视口底部，进入页面就可见；同样全屏突破 */
.footer{
  position: fixed;
  bottom:0; left:0; right:0;
  z-index: 999;
  height: var(--footer-h);
  display: flex; align-items:center;
  width:100vw;
  margin-left: calc(50% - 50vw);
  margin-right: calc(50% - 50vw);
  background: var(--nyu) !important;
  color:#fff !important;
  border-top:none !important;
  padding: 0 40px !important;   /* 内边距放到左右 */
}

/* 底部内部容器铺满行，内容两端对齐 */
.footer .row, .footer .container{
  max-width: 1280px;
  margin: 0 auto;
  width: 100%;
  display:flex; justify-content:space-between; align-items:center;
  padding: 0;  /* 避免重复内边距 */
}
.footer a, .footer i { color:#fff !important; text-decoration:none; }
.footer i:hover{ opacity:.85; }

/* 3) 给页面底部留出空间，避免固定 footer 遮挡正文 */
body{ padding-bottom: var(--footer-h); }

/* 4) 你的左侧信息卡保持“始终可见”的写法（sticky 加在列容器上） */
@media (min-width:960px){
  .content-with-sidebar{ display:flex; gap:24px; align-items:flex-start; }
  .side-col{
    position: sticky;
    top: calc(var(--nav-h) + 16px); /* 避开顶部紫条 */
    align-self:flex-start;
    z-index:10;
  }
  .sidepanel{
    position: static;                       /* 由列容器负责粘滞 */
    height: calc(100vh - var(--nav-h) - 32px);
    overflow: auto;                         /* 卡片内部滚动 */
  }
}

/* 保险：头像尺寸稳定 */
.sidepanel .portrait{
  display:block; width:100%; height:220px; object-fit:cover; border-radius:8px; margin-bottom:12px;
}

