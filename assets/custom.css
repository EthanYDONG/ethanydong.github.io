/* =================== Global & Resets =================== */
*{ box-sizing: border-box; }
:root{
  --nyu:#57068C;
  --nyu-dark:#43056c;
  --panel:#f2f2f4;
  --border:#e5e7eb;
  --nav-h:64px;
  --footer-h:64px;
}
html,body{ margin:0; padding:0; overflow-x:hidden; }
/* 预留滚动条槽，防止出现/消失时宽度抖动 */
html{ scrollbar-gutter: stable both-edges; }

/* 彻底清掉任何可能画紫条的伪元素或旧饰条 */
body::before, body::after,
.navbar::before, .navbar::after{
  content:none !important;
  display:none !important;
}

/* 主题自带头像头部隐藏，避免占位 */
.header{ display:none !important; }

/* 链接颜色 */
a{ color:var(--nyu); }
a:hover{ color:#6c2ca2; }

/* 正文不要背景图 */
.docs-section{ background:none !important; }

/* 版心：让右侧正文居中 */
.container, main, .page-content{
  max-width:1200px;
  margin:0 auto;
  padding:0 20px;
}

/* =================== Top Navbar（贴顶 & 横穿全屏） =================== */
.navbar{
  position:fixed !important;  /* 确保覆盖任何 position:static */
  top:0; left:0; right:0;
  height:var(--nav-h);
  background:var(--nyu) !important;
  z-index:1000;
  border:none !important;
  box-shadow:0 2px 10px rgba(0,0,0,.06);
}
.navbar-spacer{ display:none !important; } /* 不再用 spacer */

/* 导航内部居中排列 */
.navbar > .container{
  min-height:var(--nav-h);
  display:flex; align-items:center; justify-content:center;
  gap:28px; padding:0 16px;
}
.navbar-list{ list-style:none; display:flex; gap:28px; margin:0; padding:0; }
.navbar-item{ margin:0; }
.navbar-link{
  color:#fff !important; text-transform:uppercase; letter-spacing:.12rem;
  text-decoration:none; font-weight:600; padding:8px 6px; border-radius:6px; line-height:1;
}
.navbar-link:hover{ background:var(--nyu-dark); color:#fff !important; }

/* 给正文让出固定顶/底栏空间，避免遮挡 */
body{ padding-top:var(--nav-h); padding-bottom:var(--footer-h); }

/* =================== 左侧信息卡 + 右侧正文 =================== */
.content-with-sidebar{ margin-top:16px; }
@media (min-width:960px){
  .content-with-sidebar{
    display:flex; justify-content:center; gap:32px; align-items:flex-start;
  }
  /* 让整列粘在视口里：始终可见 */
  .side-col{
    flex:0 0 340px;
    position:sticky;
    top:calc(var(--nav-h) + 16px);
    align-self:flex-start;
    z-index:10;
  }
  .main-col{
    flex:1; max-width:800px; min-width:0;
  }
  /* 信息卡内部可滚动（内容再多也不会“掉出视口”） */
  .sidepanel{
    position:static;
    height:calc(100vh - var(--nav-h) - 32px);
    overflow:auto;
    background:var(--panel);
    border:1px solid var(--border);
    border-radius:12px;
    padding:16px;
    box-shadow:0 6px 18px rgba(0,0,0,.06);
  }
}

/* 头像稳定尺寸 */
.sidepanel .portrait{
  display:block; width:100%; height:220px; object-fit:cover;
  border-radius:10px; margin-bottom:12px;
}

/* 卡片小标题与列表 */
.kicker{
  margin:20px 0 8px; font-size:12px; font-weight:700;
  letter-spacing:.12rem; text-transform:uppercase; color:#111827;
}
.sidepanel ul{ list-style:none; padding:0; margin:4px 0 10px; }
.sidepanel li{ margin:6px 0; }
.sidepanel a{ text-decoration:none; }
.sidepanel a:hover{ text-decoration:underline; }

/* 名字更大、黑色醒目 */
.profile-name{ font-size:24px; font-weight:800; color:#111 !important; line-height:1.2; }

/* =================== 正文样式 =================== */
.docs-section{ padding:2rem 0; border-top:1px solid var(--border); }
.docs-section > h4, .section-header{
  font-size:2rem; font-weight:700; letter-spacing:.02rem;
  text-transform:none; margin:0 0 .8rem;
}
.main-col b, .main-col strong{ color:#111 !important; font-weight:700; }

/* =================== Bottom Footer（贴底 & 横穿全屏） =================== */
.footer{
  position:fixed !important; /* 覆盖任何 static 规则 */
  bottom:0; left:0; right:0;
  height:var(--footer-h);
  background:var(--nyu) !important;
  color:#fff !important;
  border-top:none !important;
  z-index:999;
  display:flex; align-items:center;
}
.footer .container, .footer .row{
  max-width:1200px; margin:0 auto; width:100%;
  display:flex; justify-content:space-between; align-items:center;
  padding:0 20px;
}
.footer a, .footer i{ color:#fff !important; text-decoration:none; }
.footer i:hover{ opacity:.85; }

/* =================== 小屏优化 =================== */
@media (max-width:749px){
  .navbar > .container{ flex-wrap:wrap; gap:12px; }
  .navbar-list{ flex-wrap:wrap; justify-content:center; gap:12px 16px; }
  .sidepanel{ height:auto; }
}

/* ===== 固定侧栏：永远可见（桌面宽屏） ===== */

/* 说明：
   - 你的版心 max-width:1200px，左右 padding 20px；
   - 侧栏宽度 340px，两栏间 gap 32px（和你现在一致）。
   - 因此 fixed 侧栏的 left = 屏幕中线 - 版心半宽 + 左 padding。
*/
@media (min-width: 1200px){
  /* 用 fixed 把侧栏“钉”在屏幕上 */
  .side-col{
    position: fixed !important;
    top: calc(var(--nav-h) + 16px);   /* 避开顶部紫条，保留 16px 呼吸 */
    left: calc(50% - 600px + 20px);  /* 600=1200/2；20=container 左内边距 */
    width: 340px;                     /* 和原来一致 */
    z-index: 15;                      /* 保证在正文之上 */
  }
  /* 侧栏固定后，正文让出空间：侧栏宽度(340) + 两栏间距(32) */
  .main-col{
    margin-left: calc(340px + 32px) !important;
    max-width: 800px;                 /* 你原来的正文宽度 */
  }
  /* 固定侧栏时，卡片内部可独立滚动；高度=视口高-顶部留白 */
  .sidepanel{
    height: calc(100vh - var(--nav-h) - 32px);
    overflow: auto;
  }
}

/* 960–1199px：仍用 sticky（你已有的样式即可），这里兜底确保祖先没截断 */
@media (min-width:960px) and (max-width:1199px){
  .content-with-sidebar{ overflow: visible !important; }
}

